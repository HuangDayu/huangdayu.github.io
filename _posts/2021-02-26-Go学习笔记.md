---
title: Go学习笔记
date: 2021-02-26
categories: 
- 研讨技术
layout: post
comments: true
published: true
permalink: /blog/48
---

## 前言

&emsp;&emsp;Go 语言是以二进制可执行文件实现跨平台的静态类型语言。

<!-- more -->

## 关键字

|     关键字      |                           说明                            |
| :-------------: | :-------------------------------------------------------: |
|     **`var`**     |                       声明一个变量                        |
|    **`const`**    |                       声明一个常量                        |
|    **`type`**     |                       声明一个类型                        |
|    **`func`**     |                   定义一个函数或者方法                    |
|   **`return`**    |                    函数返回值作用变量                     |
|   **`package`**   |                      声明一个程序包                       |
|   **`import`**    |                      用于引入代码包                       |
|  **`interface`**  |                  声明一个接口（方法集）                   |
|     **`go`**      | 定义一个并行（协程）触发一个由`golang`运行时管理的`goroutine` |
|     **`map`**     |          定义一个`map`集合（键值对的无序集合）类型          |
|    **`chan`**     |           用于定义通道，如`channel`通讯，允许并行           |
|    **`range`**    |       用于迭代列表，用于读取`slice`、`map`、`channel`数据       |
|   **`struct`**    |             用于定义抽象数据类型，字段的集合              |
|     **`if`**      |                  用于条件判断，如果为真                   |
|    **`else`**     |                  用于条件判断，如果为假                   |
|     **`for`**     |                      开始一个`for`循环                      |
|   **`switch`**    |                    定义一个条件匹配器                     |
|    **`case`**     |                 用于`switch`构造用匹配条件                  |
|    **`break`**    | 用于结束循环或条件匹配器，并继续执行代码块以下的代码逻辑  |
|  **`continue`**   |                     用于跳过一次循环                      |
|   **`default`**   |      用于`swtich`条件匹配器中非`case`选项的默认执行选项       |
| **`fallthrough`** |           用于`swtich`条件匹配器中输入下一种情况            |
|    **`goto`**     |              用于可无条件跳转至带标签的语句               |
|    **`defer`**    |           用于推迟执行功能，在函数退出之前执行            |
|   **`select`**    |           使 `goroutine` 在同步通信操作期间等待。           |

## 标识符

|               标识符                |                             说明                             |
| :---------------------------------: | :----------------------------------------------------------: |
|  `int`、`int8`、`int16`、`int32`、`int64`、   | 整型，默认值0，32位系统上占用32位（4字节），64位系统上占用64位（8字节） |
| `uint`、`uint8`、`uint16`、`uint32`、`uint64` |         无符号类型整型，占用的内存空间和整型是一样的         |
|               `uintptr`               |    uintptr是一个整数类型，其大小足以容纳任何指针的位模式     |
|          `float32`、`float64`           | 浮点型，默认值0.0，float32 精确到小数点后 7 位，`float64` 精确到小数点后 15 位 |
|          `bool`、`true`、`false`          |                           布尔类型                           |
|  `complex(x)`、`complex64`、`complex128`  |   复数（由实数和虚数组成，也会包括根号`i`），有32位和64位    |
|               `real(x)`               |                 一个函数，获得复数的实数部分                 |
|               `imag(x)`               |                 一个函数，获得复数的虚数部分                 |
|                `iota`                 | 一个预先声明的标识符，表示（通常带括号的）`const`声明中当前`const`规范的未类型化整数序号，第一个值是0。 |
|               `string`                |                          字符串类型                          |
|                `byte`                 |          字节类型，跟nint8的长度一致，也就是ASCII码          |
|        `print(x)`、`println(x)`         |           用于打印，换行与换行的却别，建议用fmt包            |
|                 `nil`                 | `nil`是预先声明的标识符，表示a的零值，支持`pointer`, `channel`, `func`, `interface`, `map`, 或者 `slice` 类型 |
|        `panic(x)`、`recover(x)`         |                    两者均用于错误处理机制                    |
|               `copy(x)`               |                           用于复制                           |
|              `append(x)`              |                         用于切片连接                         |
|              `close(x)`               |                   用于关闭管道channel通信                    |
|               `len(x)`                |                用于返回某个类型的长度或者数量                |
|               `cap(x)`                | 容量的意思，用于返回某个类型的最大容量（只能用于切片和 map） |
|               `new(x)`                | 用于分配内存，用于值类型和用户定义的类型，如自定义结构，返回其指针地址 |
|               `make(x)`               | 用于分配内存，用于内置引用类型（切片、`map` 和管道），返回初始化之后的值 |

## 运算符

|                             符号                             |    说明    |
| :----------------------------------------------------------: | :--------: |
|               `==`、`!=`、`<`、`<=`、`>`、`>=`               | 关系运算符 |
|           `+`、 `-`、 `*`、 `/`、` %`、`++`、 `--`           | 算数运算符 |
| `=`、 `+=`、 `-=`、`*=`、`/=`、`%=`、`<<=`、`>>=`、`&=`、`^=`、`|=` | 赋值运算符 |
|                       `&&`、`||`、`!`                        | 逻辑运算符 |
|                  `&`、`|`、`^`、`<<`、`>>`                   |  位运算符  |

## 运算符的优先级

|      运算符      | 优先级  |
| :--------------: | :-----: |
|       `^`、`!`       | 7（高） |
| `*`、`/`、`%`、`<<`、`>>`、`&`、`&^` |    6    |
|     `+`、`-`、`|`、`^`     |    5    |
| `==`、`!=`、`<`、`<=`、`>=`、`>`  |    4    |
|        `<-`        |    3    |
|        `&&`        |    2    |
|       `||`       | 1（低） |

## 特殊符号

| 符号  |                             说明                             |
| :---: | :----------------------------------------------------------: |
|  `_`  |  下划线，单独使用时表示空白标识符，功能与 `/dev/null` 类似   |
|  `.`  |                       选择器，类型断言                       |
| `...` |                           不定长度                           |
| `:=`  | 短的变量声明，它是带有初始值设定项表达式但没有类型的常规变量声明的简写 |
| `()`  |   在import，const，var，type的声明或定义时使用表示因式分解   |
|  `\`  |        反斜杠、可以在常量表达式中作为多行的连接符使用        |
|  `&`  |                  `&a`将给出变量的实际地址。                  |
|  `*`  |                      `*a`是一个指针变量                      |

## 位运算

| 符号 |    类别    |               说明               |
| :--: | :--------: | :------------------------------: |
| `&`  | 二元运算符 |              按位与              |
| `|`  | 二元运算符 |              按位或              |
| `^`  | 二元运算符 |             按位异或             |
| `&^` | 二元运算符 | 位清除，将指定位置上的值设置为 0 |
| `^`  | 一元运算符 |             按位补足             |
| `<<` | 一元运算符 |              位左移              |
| `>>` | 一元运算符 |              位右移              |


## 格式化符

|    符号    |    说明    |
| :--------: | :--------: |
|     `%d`     | 格式化整数 |
| `%x ` 和 `%X` | 格式化 16 进制表示的数字 |
| `%g` | 格式化浮点型 |
| `%f` | 输出浮点数 |
| `%e` | 输出科学计数表示法 |
| `%0d` | 用于规定输出定长的整数，其中开头的数字 0 是必须的 |
| `%n.mg` | 用于表示数字 n 并精确到小数点后 m 位，除了使用 g 之外，还可以使用 e 或者 f |
| `%v` | 格式化复数 |
| `%b` | 是用于表示位的格式化标识符 |

## 命名规则

1. Go是一门区分大小写的语言。
2. 命名规则涉及变量、常量、全局函数、结构、接口、方法等的命名。
3. 命名以**大写字母**开头，则表示是`public`的，否则是`private`（对包以外不可见）的。
4. 包名必须是小写，所有的函数以包为单位，没有`类`这个概念。

## 第一行代码

> simple.go

```go
package simple

// book https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/directory.md

import (
	fm "fmt"
	"os"
)

func Hello() {
	str := "Hello world , I am huangdayu"
	println(str)
	fm.Printf("%+v\n", str) // 打印包括字段在内的实例的完整信息
	fm.Printf("%#v\n", str) // 打印包括字段和限定类型名称在内的实例的完整信息
	fm.Printf("%T\n", str)  // 打印某个类型的完整说明
	str1 := os.Args
	println("args[0]:\n", str1[0])
	printlnName()
	Pub_x := "public"
	printlnValue(Pub_x, "test1")
	sum := Sum(1000, 24)
	printInt(sum)
	printlnValue("Καλημέρα κόσμε", "こんにちは 世界\n")
}

const name = "huangdayu" // 常量

var age int = 24 // 变量

/**
类型
*/
type Blog struct {
}

func printlnName() {
	fm.Printf("HuangDayu")
}

func printlnValue(a string, b string) {
	fm.Printf(a + "\n")
	fm.Println(b)
}

func printInt(i int) {
	fm.Println(i)
}

func (blog Blog) Method1() {

}

func Sum(a, b int) int { return a + b } // 公共方位的Sum方法返回int类型的值

```

> web.go

```go
package web

import (
	"log"
	"net/http"
)

func hello(writer http.ResponseWriter, request *http.Request) {
	writer.Write([]byte("hello,goer,Let's learn Go programming together!"))
}

func StartWeb() {
	http.HandleFunc("/hello", hello)
	run := http.ListenAndServe(":8080", nil);
	go log.Fatal(run)
}
```

> main.go

```go
package main

import (
	"go-learn/simple"
	"go-learn/web"
)

// mian启动之前，会先运行init方法
func init() {

}

func main() {
	simple.Hello()
	web.StartWeb()
}
```

> result

```cmd
$ curl -X GET http://127.0.0.1:8080/hello
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    47  100    47    0     0  47000      0 --:--:-- --:--:-- --:--:-- 47000
hello,goer,Let's learn Go programming together!
```

## 参考文献

- [Go编程语言规范](https://golang.org/ref/spec)
- [Go 入门指南](https://learnku.com/docs/the-way-to-go)
- [Go中的命名规范](https://www.cnblogs.com/rickiyang/p/11074174.html)